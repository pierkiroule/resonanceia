<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>üåÄ IA R√©sonante</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header>
    <h1>üåÄ IA R√©sonante</h1>
    <p>Un espace pour d√©poser, √©couter, r√©sonner. Interface de d√©monstration reli√©e √† Nebius Studio.</p>
  </header>

  <section class="panel" aria-label="Conversation">
    <h3>Conversation</h3>
    <div class="history" id="history"></div>
    <div class="small" id="status">Pr√™t √† dialoguer (mod√®le Qwen/Qwen3-32B).</div>
    <textarea id="msg" placeholder="√âcris ce qui te traverse..."></textarea>
    <div class="row">
      <div>
        <label for="temperature">Temp√©rature</label>
        <input type="number" id="temperature" step="0.1" min="0" max="1" value="0.7" />
      </div>
      <div>
        <label for="top_p">Top P</label>
        <input type="number" id="top_p" step="0.05" min="0" max="1" value="0.9" />
      </div>
      <div>
        <label for="max_tokens">Max tokens</label>
        <input type="number" id="max_tokens" min="32" max="2000" value="256" />
      </div>
    </div>
    <button id="sendBtn">Envoyer</button>
    <button id="resetBtn" style="margin-top:8px; background:#272734;">R√©initialiser</button>
  </section>

  <section class="panel" aria-label="Nuage de mots r√©sonant">
    <div class="panel-header">
      <div>
        <h3>WordCloud r√©sonant</h3>
        <p class="small">Mots regroup√©s par pivot, noyau et p√©riph√©rie (donn√©es /api/echo).</p>
        <p class="small" id="dataMode">Mode API: ‚Äî</p>
      </div>
      <span class="badge" id="metaphorBadge">‚Äî</span>
    </div>
    <div id="wordCloud" class="wordcloud">
      <div class="placeholder small">En attente des premiers mots...</div>
    </div>
  </section>

  <section class="panel" aria-label="Analyse r√©sonante brute">
    <h3>Analyse r√©sonante</h3>
    <p class="small">Chaque message est aussi envoy√© √† l'API locale <code>/api/echo</code> pour extraire le pivot, le noyau et la p√©riph√©rie.</p>
    <pre id="echoPanel">En attente d'un premier message...</pre>
  </section>

  <section class="panel" aria-label="Mod√®le Nebius">
    <h3>Mod√®le Nebius</h3>
    <pre>
POST https://api.tokenfactory.nebius.com/v1/chat/completions
model: Qwen/Qwen3-32B
role: system -> psychologue clinicien bienveillant
    </pre>
  </section>

  <script src="./script.js"></script>
</body>
</html>
